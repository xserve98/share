/**
 * Admui-iframe v2.1.0 (http://www.admui.com/)
 * Copyright 2015-2019 Admui Team
 * Licensed under the Admui License 1.1 (http://www.admui.com/about/license)
 */
!function(n,e,r){"use strict";var o,a,c=n.top.document,s=r.configs.get("displaySittings"),i={$siteSidebar:r(".site-menubar",c),$siteNavbar:r(".site-navbar",c),navbarSkins:"bg-blue-600 bg-primary-600 bg-brown-600 bg-cyan-600 bg-green-600 bg-grey-600 bg-indigo-600 bg-orange-600 bg-pink-600 bg-purple-600 bg-red-600 bg-teal-600 bg-yellow-700",defaultSettings:{sidebar:"site-menubar-dark",navbar:"bg-primary-600",navbarInverse:"navbar-inverse",themeColor:"primary",menuDisplay:"site-menubar-unfold",menuTxtIcon:"site-menubar-keep",tabFlag:"site-contabs-open"},initLocalStorage:function(){this.settings=r.sessionStorage.get(s),_.isNull(this.settings)&&(this.settings=r.extend(!0,{},this.defaultSettings),r.sessionStorage.set(s,this.settings)),this.settings&&r.isPlainObject(this.settings)&&r.each(this.settings,function(e,t){switch(e){case"boxLayout":r("#boxLayout").prop("checked",""!==t);break;case"sidebar":r("#skintoolsSidebar").selectpicker("val",[t]);break;case"navbar":r('input[value="'+t+'"]',r("#skintoolsNavbar>ul")).prop("checked",!0);break;case"navbarInverse":r("#navbarDisplay").prop("checked",""!==t);break;case"menuDisplay":r('input[value="'+t+'"]',"#displayForm").prop("checked",!0);break;case"menuTxtIcon":r("#menuFold").is(":checked")&&(r("#menuFoldSetting").removeClass("hidden "),r('input[name="menuTxtIcon"]',"#displayForm").parent("label").removeClass("active"),r('input[value="'+t+'"]',"#displayForm").prop("checked",!0).parent("label").addClass("active"));break;case"themeColor":r('input[value="'+t+'"]',"#skintoolsPrimary").prop("checked",!0);break;case"tabFlag":r('input[value="'+t+'"]',"#displayForm").prop("checked",!0)}})},updateSetting:function(e,t){this.settings[e]=t,r.sessionStorage.set(s,this.settings)},sidebarEvents:function(e){var t=e.val();this.sidebarImprove(t),this.updateSetting("sidebar",t)},navbarEvents:function(e){var t=e.val(),a=e.prop("checked");this.navbarImprove(t,a),"navbar-inverse"===t?this.updateSetting("navbarInverse",a?t:""):this.updateSetting("navbar",t)},primaryEvents:function(e){var t=e.val();this.primaryImprove(t),this.updateSetting("themeColor",t)},sidebarImprove:function(e){"site-menubar-light"===e?this.$siteSidebar.removeClass("site-menubar-dark").addClass(e):this.$siteSidebar.removeClass("site-menubar-light").addClass(e)},navbarImprove:function(e,t){"navbar-inverse"===e?t?this.$siteNavbar.addClass(e):this.$siteNavbar.removeClass(e):this.$siteNavbar.removeClass(this.navbarSkins).addClass(e)},primaryImprove:function(i){var e,t=r("#admui-siteStyle",c),a=r("#admui-pageContent>iframe",c),s=-1===t.prop("href").indexOf("?v=")?"":".min";e="primary"===i?o+"/css/index"+s+".css":o+"/css/skins/"+i+"/index"+s+".css",t.attr("href",e),a.each(function(){var e,t,a=r(this).attr("name"),s=r("#admui-siteStyle",n.top.frames[a].document);0!==s.length&&(t=-1===s.prop("href").indexOf("?v=")?"":".min",e="primary"===i?o+"/css/site"+t+".css":o+"/css/skins/"+i+"/site"+t+".css",s.attr("href",e))})},reset:function(){r.sessionStorage.remove(s),n.location.reload(!0)}};r(function(){var t=r("body",c);a=r.configs.ctx,o=a+"/public/themes/"+t.data("theme"),r("#skintoolsSidebar").selectpicker(r.concatCpt("selectpicker")).on("change",function(){i.sidebarEvents(r(this))}),r("#skintoolsNavbar input").on("click",function(){i.navbarEvents(r(this))}),r("#skintoolsPrimary input").on("click",function(){i.primaryEvents(r(this))}),r('[name="menuDisplay"]').on("change",function(){var e=r("#menuFoldSetting"),t=r(this).val();"site-menubar-unfold"===t?(e.attr("hidden"),r.site.menubar.unfold()):(e.removeAttr("hidden"),r.site.menubar.fold()),i.updateSetting("menuDisplay",t)}),r('[name="menuTxtIcon"]').on("change",function(){var e=r(this).val();"site-menubar-keep"===e?t.removeClass("site-menubar-fold-alt").addClass("site-menubar-keep"):t.removeClass("site-menubar-keep").addClass("site-menubar-fold-alt"),i.updateSetting("menuTxtIcon",e)}),r('[name="save"]').on("click",function(e){var t=r.sessionStorage.get(s);_.isNull(t)?t=i.defaultSettings:(console.warn(t),e.preventDefault())}),r("#skintoolsReset").on("click",function(){i.reset()}),i.initLocalStorage()})}(window,document,jQuery);