/**
 * Admui-iframe v2.1.0 (http://www.admui.com/)
 * Copyright 2015-2019 Admui Team
 * Licensed under the Admui License 1.1 (http://www.admui.com/about/license)
 */
!function(t,a,n){"use strict";n(function(){var t,a=n("#filter-date"),e=n("#logForm");t=n(".dataTable").DataTable(n.concatCpt("dataTable",{autoWidth:!1,processing:!0,serverSide:!0,searching:!1,pagingType:"simple_numbers",columns:[{data:"url"},{data:"type"},{data:"params"},{data:"createUserName"},{data:"operateIp"},{data:"createDate"}],ajax:function(t,a){n.ajax({url:n.configs.ctx+"/public/data/system/log/logs.json",cache:!1,dataType:"JSON",data:n.extend({},{data:e.serializeObject()},{pageIndex:t.start+1,sortField:t.order[0].column,sortType:t.order[0].dir,pageSize:t.length}),success:function(t){a({recordsTotal:t.total,recordsFiltered:t.total,data:t.pageList})},error:function(t){toastr.error(t)}})}})),0<a.length?(a.daterangepicker(n.concatCpt("daterangepicker",{maxDate:new Date,ranges:{"今天":[moment(),moment()],"昨天":[moment().subtract(1,"days"),moment().subtract(1,"days")],"最近7天":[moment().subtract(6,"days"),moment()],"最近30天":[moment().subtract(29,"days"),moment()],"本月":[moment().startOf("month"),moment().endOf("month")],"上月":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}}),function(t,a){n('[name="startDate"]').val(t.format("YYYY-MM-DD")),n('[name="endDate"]').val(a.format("YYYY-MM-DD"))}),e.on("submit",function(){return t.ajax.reload(),!1}),n(".date-clear").on("click",function(){e.find("input").val("")})):n('[href="#log"]').on("shown.bs.tab",function(){t.draw()})})}(document,window,jQuery);