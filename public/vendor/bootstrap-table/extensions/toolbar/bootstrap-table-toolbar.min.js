/*
* bootstrap-table - v1.12.1 - 2018-03-12
* https://github.com/wenzhixin/bootstrap-table
* Copyright (c) 2018 zhixin wen
* Licensed MIT License
*/
!function(d){var g=false;var h=d.fn.bootstrapTable.utils.sprintf;var b=function(k,p,n,m){if(!d("#avdSearchModal"+"_"+m.options.idTable).hasClass("modal")){var l=h('<div id="avdSearchModal%s"  class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">',"_"+m.options.idTable);l+='<div class="modal-dialog modal-xs">';l+=' <div class="modal-content">';l+='  <div class="modal-header">';l+='   <button type="button" class="close" data-dismiss="modal" aria-hidden="true" >&times;</button>';l+=h('   <h4 class="modal-title">%s</h4>',p);l+="  </div>";l+='  <div class="modal-body modal-body-custom">';l+=h('   <div class="container-fluid" id="avdSearchModalContent%s" style="padding-right: 0px;padding-left: 0px;" >',"_"+m.options.idTable);l+="   </div>";l+="  </div>";l+="  </div>";l+=" </div>";l+="</div>";d("body").append(d(l));var j=e(k,n,m),o=0;d("#avdSearchModalContent"+"_"+m.options.idTable).append(j.join(""));d("#"+m.options.idForm).off("keyup blur","input").on("keyup blur","input",function(q){clearTimeout(o);o=setTimeout(function(){m.onColumnAdvancedSearch(q)},m.options.searchTimeOut)});d("#btnCloseAvd"+"_"+m.options.idTable).click(function(){d("#avdSearchModal"+"_"+m.options.idTable).modal("hide")});d("#avdSearchModal"+"_"+m.options.idTable).modal()}else{d("#avdSearchModal"+"_"+m.options.idTable).modal()}};var e=function(k,o,l){var n=[];n.push(h('<form class="form-horizontal mt-15" id="%s" action="%s" >',l.options.idForm,l.options.actionForm));for(var j in k){var m=k[j];if(!m.checkbox&&m.visible&&m.searchable){n.push('<div class="form-group row">');n.push(h('<label class="col-md-4 col-form-label text-right">%s</label>',m.title));n.push('<div class="col-md-6">');n.push(h('<input type="text" class="form-control input-md" name="%s" placeholder="%s" id="%s">',m.field,m.title,m.field));n.push("</div>");n.push("</div>")}}n.push('<div class="form-group row">');n.push('<div class="offset-md-4 col-md-6">');n.push(h('<button type="button" id="btnCloseAvd%s" class="btn btn-default btn-outline" >%s</button>',"_"+l.options.idTable,o));n.push("</div>");n.push("</div>");n.push("</form>");return n};d.extend(d.fn.bootstrapTable.defaults,{advancedSearch:false,idForm:"advancedSearch",actionForm:"",idTable:undefined,onColumnAdvancedSearch:function(j,k){return false}});d.extend(d.fn.bootstrapTable.defaults.icons,{advancedSearchIcon:"fa-angle-double-down"});d.extend(d.fn.bootstrapTable.Constructor.EVENTS,{"column-advanced-search.bs.table":"onColumnAdvancedSearch"});d.extend(d.fn.bootstrapTable.locales,{formatAdvancedSearch:function(){return"Advanced search"},formatAdvancedCloseButton:function(){return"Close"}});d.extend(d.fn.bootstrapTable.defaults,d.fn.bootstrapTable.locales);var c=d.fn.bootstrapTable.Constructor,i=c.prototype.initToolbar,f=c.prototype.load,a=c.prototype.initSearch;c.prototype.initToolbar=function(){i.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.search){return}if(!this.options.advancedSearch){return}if(!this.options.idTable){return}var k=this,j=[];j.push(h('<div class="columns columns-%s btn-group float-%s" role="group">',this.options.buttonsAlign,this.options.buttonsAlign));j.push(h('<button class="btn btn-outline btn-default%s'+'" type="button" name="advancedSearch" aria-label="advanced search" title="%s">',k.options.iconSize===undefined?"":" btn-"+k.options.iconSize,k.options.formatAdvancedSearch()));j.push(h('<i class="%s %s"></i>',k.options.iconsPrefix,k.options.icons.advancedSearchIcon));j.push("</button></div>");k.$toolbar.prepend(j.join(""));k.$toolbar.find('button[name="advancedSearch"]').off("click").on("click",function(){b(k.columns,k.options.formatAdvancedSearch(),k.options.formatAdvancedCloseButton(),k)})};c.prototype.load=function(k){f.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.advancedSearch){return}if(typeof this.options.idTable==="undefined"){return}else{if(!g){var j=parseInt(d(".bootstrap-table").height());j+=10;d("#"+this.options.idTable).bootstrapTable("resetView",{height:j});g=true}}};c.prototype.initSearch=function(){a.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.advancedSearch){return}var k=this;var j=d.isEmptyObject(this.filterColumnsPartial)?null:this.filterColumnsPartial;this.data=j?d.grep(this.data,function(o,n){for(var m in j){var l=j[m].toLowerCase();var p=o[m];p=d.fn.bootstrapTable.utils.calculateObjectValue(k.header,k.header.formatters[d.inArray(m,k.header.fields)],[p,o,n],p);if(!(d.inArray(m,k.header.fields)!==-1&&(typeof p==="string"||typeof p==="number")&&(p+"").toLowerCase().indexOf(l)!==-1)){return false}}return true}):this.data};c.prototype.onColumnAdvancedSearch=function(k){var l=d.trim(d(k.currentTarget).val());var j=d(k.currentTarget)[0].id;if(d.isEmptyObject(this.filterColumnsPartial)){this.filterColumnsPartial={}}if(l){this.filterColumnsPartial[j]=l}else{delete this.filterColumnsPartial[j]}this.options.pageNumber=1;this.onSearch(k);this.updatePagination();this.trigger("column-advanced-search",j,l)
}}(jQuery);