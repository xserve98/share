/**
 * Admui-iframe v2.1.0 (http://www.admui.com/)
 * Copyright 2015-2019 Admui Team
 * Licensed under the Admui License 1.1 (http://www.admui.com/about/license)
 */
!function(e,t,l){"use strict";var o="responsiveTab",d={tabContent:"",checked:"active",noNavItemSelector:".no-menu",closeSelector:".close-tab",closeTab:!1,complete:function(){}},i=function(t,e){var n=l(t),o=l.extend(!0,{},d,e),i=n.find(">.nav:not(.flex-column)"),a=i.find(">.dropdown"),s=o.tabContent;0!==i.length&&(this.$container=n,this.$nav=i,this.$dropdown=a,this.options=o,this.$navItems=i.find(">li.nav-item:not(.dropdown)"),this.$dropdownItems=a.find("a.dropdown-item"),this.$tabContents=""===s?n.find(".tab-pane"):l(s).find(".tab-pane"),this.init())};i.prototype={init:function(){var t,e=this.$dropdown,n=this.$nav,o=this.$navItems,i=o.length,a=0,s=0,d=0,r=this.options,l=[];for(this.breakpoints=l,0===(this.tabsLen=i)&&console.error("在导航条中没有发现导航项 "),a=0===e.length?(this.flag=!0,n.append('<li class="dropdown nav-item" style="display:none;" role="presentation"><a class="dropdown-toggle nav-link" data-toggle="dropdown" href="javascript:;" aria-haspopup="true" aria-expanded="false">更多</a><div class="dropdown-menu active" role="menu"></div></li>'),e=n.find(">.dropdown"),0===(a=(this.$dropdown=e).width())?90:a):e.width(),t=0;t<i+1;t+=1){switch(s=o.eq(t).width(),t){case 0:d=s+a;break;case i-1:d=l[t-1]+s-a;break;case i:d=l[t-1]+a;break;default:d=l[t-1]+s}l.push(d)}this.layout(),this.bind(),r.closeTab&&0<this.$container.find(r.closeSelector).length&&this.close()},layout:function(){var t,e,n,o,i,a,s,d,r,l,h,c=0,f=this,p=this.breakpoints;if(0!==p.length){for(o=this.options,i=this.flag,a=this.options.noNavItemSelector,s=this.tabsLen,d=this.$navItems,r=this.$dropdown,l=this.$dropdownItems,h=this.$container,t=o.checked,e=this.$tabContents.filter("."+t).index(),n=function(t){for(var e,n=t,o=0;o<s+1;o+=1)o<n&&d.eq(o).show();for(n===s&&(n-=1);n<s;n+=1)(e=d.eq(n).clone().find("a")).addClass("dropdown-item").removeClass("nav-link"),i?r.find("div").append(e):r.find("div>a.dropdown-item"+a+":first").before(e),d.eq(n).hide(),f.$dropdownItems=r.find("a.dropdown-item")};c<p.length&&!(p[c]>h.width()-30);c+=1);d.find(">a").removeClass(t),l.removeClass(t),r.find(">a").removeClass(t),c===p.length?(i?r.hide():r.find("div>a.dropdown-item:not("+a+")").remove(),d.show(),d.eq(e).find(">a").addClass(t)):(i?(r.show(),r.find("div>a").remove()):r.find("div>a.dropdown-item:not("+a+")").remove(),n(c),e<c?d.eq(e).find(">a").addClass(t):(r.find(">a").addClass(t),f.$dropdownItems.eq(e-c).addClass(t))),"function"==typeof o.complete&&o.complete(h)}},close:function(){var r=this;this.$container.on("click",this.options.closeSelector,function(t){var e,n,o=l(this).closest('[data-toggle="tab"]'),i=o.data("target"),a=o.parent("li"),s=t;function d(){n.detach().trigger("closed.bs.tab").remove(),a.detach().remove(),r.$dropdown.find("div>a:first").remove(),0===r.$dropdown.find("div>a").length&&r.$dropdown.remove(),r.init()}i||(i=(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),a.hasClass("active")&&0<(e=a.siblings().eq(0).find('>[data-toggle="tab"]')).length&&e.tab().data("bs.tab").show(),n=l(i),s.preventDefault(),n.trigger(s=l.Event("close.bs.tab")),s.isDefaultPrevented()||(n.removeClass("in"),l.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",d).emulateTransitionEnd(150):d())})},throttle:function(n,o){var i,a=!0;return function(){var t=arguments,e=this;a&&(n.apply(e,t),a=!1),i||(i=setInterval(function(){clearInterval(i),i=null,n.apply(e,t)},o||500))}},reset:function(){this.init()},bind:function(){var t=this;l(e).resize(function(){t.throttle(function(){t.layout()},1e3)()})}},l.fn[o]=function(t){var e,n;return"string"==typeof t?(e=t,n=Array.prototype.slice.call(arguments,1),/^_/.test(e)&&console.error("No such method : "+t),this.each(function(){var t=l.data(this,o);t&&"function"==typeof t[e]&&t[e].apply(t,n)})):this.each(function(){l.data(this,o)?l.data(this,o).init():l.data(this,o,new i(this,t))})}}(window,document,jQuery);