/**
 * Admui-iframe v2.1.0 (http://www.admui.com/)
 * Copyright 2015-2019 Admui Team
 * Licensed under the Admui License 1.1 (http://www.admui.com/about/license)
 */
!function(n,o,i){"use strict";var e,t=n.top;i.configs=t.$.configs,i.ajaxSetup({complete:function(e){"timeout"===e.getResponseHeader("sessionstatus")&&(toastr.warning("由于您长时间没有操作，登录已过期，请重新登录！"),setTimeout(function(){n.top.location.href="/logout"},1e3))}}),i.getColor=t.$.getColor,i.concatCpt=t.$.concatCpt,i.storage=t.$.storage,i.sessionStorage=t.$.sessionStorage,i.site=t.$.site,i.fn.serializeObject=function(){var n={},e=this.serializeArray();return i(e).each(function(){var e=this.name,t=this.value;n[e]?i.isArray(n[e])?n[e].push(t):n[e]=[n[e],t]:n[e]=t}),n},i.components=t.$.components,i.components.init(n),i.site.contentTabs.ifameTabs(o),n.Breakpoints=t.Breakpoints,n.toastr=t.toastr,n.notifyFn=t.$.notifyFn,i.queueModal=i.queueModal||{},i.extend(i.queueModal,{_queue:{prepare:[],run:[],complete:[]},run:function(){var e=this;this._dequeue("prepare",function(){e._trigger("before.run",e),e._dequeue("run",function(){e._dequeue("complete",function(){e._trigger("after.run",e)})})})},_dequeue:function(e,t){var n=this,o=this.getQueue(e).shift();_.isUndefined(o)?_.isFunction(t)&&t.call(n):i.when(o.call(n)).then(function(){n._dequeue(e,t)})},getQueue:function(t){var n=!1;return i.each(this._queue,function(e){e===t&&(n=!0)}),n||console.error("该队列项不存在"),this._queue[t]},extend:function(e){var n=e;return i.each(this._queue,function(e,t){_.isFunction(n[e])&&(t.unshift(n[e]),delete n[e])}),i.extend(this,n),this},_trigger:function(e,t){_.isUndefined(e)||i(o).trigger(e+".app",t)}}),e={pageAside:function(){var e=i(".page-aside"),t=e.hasClass("open");e.toggleClass("open",!t)},getOperPermission:function(){var t,e=n.location.pathname;return i.ajax({url:i.configs.ctx+"/public/data/system/operation/operauths.json",type:"GET",async:!1,data:{requestUrl:e},dataType:"JSON",success:function(e){e.success?t=e.data:console.warn(e.msg)},error:function(){console.log("服务器异常，请配合后端程序使用")}}),t},run:function(){var t=this;i(o).on("click",".page-aside-switch",function(e){t.pageAside(),e.stopPropagation()})}},n.App=i.queueModal.extend(e)}(window,document,jQuery);